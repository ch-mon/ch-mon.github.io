<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="">
<meta name="description" content="Hack4Good Banner. Photo from the H4G website.
  Background During my time at ETH Zurich, my team (big shout-out to Frederike Lübeck, Kaoru Schwarzenegger, and Vincent Bardenhagen) and I had the chance to participate in the two-month-long sustainability Hack4Good program. This hackathon was organized by the Analytics Club and the Student Project House (SPH) at ETH. Five teams would be presented with challenges and data offered by different NGOs and solve the former within the given timeframe." />
<meta name="keywords" content=", machine learning, supervised learning, geospatial analysis, data cleansing" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="" />
<link rel="canonical" href="/projects/hack4good/" />


    <title>
        
            Hack4Good :: Chris Mony 
        
    </title>



<link href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.2.1/css/flag-icon.min.css" rel="stylesheet"
    type="text/css">



<link rel="stylesheet" href="/main.d1ea4af8fd04fb24a4f8b882ea54bd04eb245427ca4baf527c81a5dab071410b.css">






<meta itemprop="name" content="Hack4Good">
<meta itemprop="description" content="Hack4Good Banner. Photo from the H4G website.
  Background During my time at ETH Zurich, my team (big shout-out to Frederike Lübeck, Kaoru Schwarzenegger, and Vincent Bardenhagen) and I had the chance to participate in the two-month-long sustainability Hack4Good program. This hackathon was organized by the Analytics Club and the Student Project House (SPH) at ETH. Five teams would be presented with challenges and data offered by different NGOs and solve the former within the given timeframe.">
<meta itemprop="datePublished" content="2020-11-28T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2020-11-28T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="1367">
<meta itemprop="image" content="/"/>



<meta itemprop="keywords" content="machine learning,supervised learning,geospatial analysis,data cleansing," />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="/"/>

<meta name="twitter:title" content="Hack4Good"/>
<meta name="twitter:description" content="Hack4Good Banner. Photo from the H4G website.
  Background During my time at ETH Zurich, my team (big shout-out to Frederike Lübeck, Kaoru Schwarzenegger, and Vincent Bardenhagen) and I had the chance to participate in the two-month-long sustainability Hack4Good program. This hackathon was organized by the Analytics Club and the Student Project House (SPH) at ETH. Five teams would be presented with challenges and data offered by different NGOs and solve the former within the given timeframe."/>







    <meta property="article:published_time" content="2020-11-28 00:00:00 &#43;0000 UTC" />








    </head>

    <body class="dark-theme">
        <div class="container">
            <header class="header">
    <span class="header__inner">
        <a href="/" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark">></span>
            <span class="logo__text">chris.mony</span>
            <span class="logo__cursor" style=
                  "
                   
                   ">
            </span>
        
    </div>
</a>


        <span class="header__right">
            
                <nav class="menu">
    <ul class="menu__inner"><li><a href="/about/">About</a></li><li><a href="/blog/">Blog</a></li><li><a href="/personal/">Personal</a></li><li><a href="/projects/">Projects</a></li><li><a href="/reads/">Reads</a></li>
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
            

            <span class="theme-toggle unselectable"><svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
  3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
  13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"/>
</svg>
</span>
        </span>
    </span>
</header>


            <div class="content">
                
  <main class="post">

    <div class="post-info">
      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock">
          <circle cx="12" cy="12" r="10"></circle>
          <polyline points="12 6 12 12 16 14"></polyline>
        </svg>
        7 minutes

        
      </p>
    </div>

    <article>
      <h1 class="post-title">
        <a href="/projects/hack4good/">Hack4Good</a>
      </h1>

      

      <div class="post-content">
        <figure class="center">
    <img src="../images/Hack4GoodBanner.png"
         alt="Hack4Good Banner. Photo from the H4G website." height="300"/> <figcaption>
            <p>Hack4Good Banner. Photo from the <a href="https://analytics-club.org/hack4good">H4G website</a>.</p>
        </figcaption>
</figure>

<h2 id="background">Background</h2>
<p>During my time at ETH Zurich, my team (big shout-out to <a href="https://www.linkedin.com/in/frederike-l%C3%BCbeck-b3a6b4186/">Frederike Lübeck</a>, <a href="https://www.linkedin.com/in/kaoruschwarzenegger/">Kaoru Schwarzenegger</a>, and <a href="https://www.linkedin.com/in/vincent-bardenhagen-331911115/">Vincent Bardenhagen</a>) and I had the chance to participate in the two-month-long sustainability Hack4Good program. This hackathon was organized by the Analytics Club and the Student Project House (SPH) at ETH. Five teams would be presented with challenges and data offered by different NGOs and solve the former within the given timeframe. Each of the projects had a strong focus on sustainability. Besides the task and various hackdays, Hack4Good also included various workshops, such as about agile project management with Siemens, impact creation with the ETH SPH, or pitching skills with McKinsey.</p>
<h2 id="project-description">Project description</h2>
<blockquote>
<p>Quick note: You can also download the final PDF report <a href="../pdfs/H4G_final_report.pdf">here</a>.</p>
</blockquote>
<p>Our task was provided by the organization &ldquo;Gesellschaft für Internationale Zusammenarbeit&rdquo; (GIZ). Together with the &ldquo;Community Markets for Conservation&rdquo; (COMACO), they are currently active in Eastern Zambia to support people in the agricultural sector. Actually, 52% of the population in Eastern Zambia is employed in agriculture (<a href="http://zm.one.un.org/sites/default/files/un_country_analysis_report.pdf">UN Zambia Report</a>). Nevertheless, every third child has suffered from malnutrition (<a href="http://www.dhsprogram.com/pubs/pdf/FR361/FR361.pdf">Zambia Demographic and Health Survey</a>). Thus, GIZ currently promotes the plantation of two value chain crops in Eastern Zambia: groundnuts and soybeans. Since the growth of these crops is strongly influenced by external factors such as precipitation or soil quality, they were interested in the most important drivers and their impact. For this reason, we started with the goal of setting up a  model to predict crop yield variation in Eastern Zambia.</p>
<p>The pipeline can be visualized in the following figure. As you can see, we dealt with three primary data sources - <em>survey_data</em>, <em>soil data</em>, and <em>weather data</em> - which we describe in the next sections. Lastly, we also explain the methodological aspect of our analysis.</p>
<figure class="center">
    <img src="../images/Hack4GoodPipeline.png"
         alt="Schematic visualization of the end-to-end pipeline."/> <figcaption>
            <p>Schematic visualization of the end-to-end pipeline.</p>
        </figcaption>
</figure>

<h4 id="a-survey-data">a) Survey data</h4>
<p>First, we obtained data from surveys conducted by GIZ in the years 2016-2019. Each sample in this data originated from a survey conducted with one farm in Eastern Zambia. On average, there were about 500 surveys conducted each year. Here, the surveys comprised approximately 600 questions, each of which would map to an individual variable. On the one hand, these variables included the harvested <code>weight</code> and <code>production area</code> for each crop, which then allowed us to derive our target variable <code>land productivity</code>. On the other hand, the surveys contained questions addressing each farm&rsquo;s socioeconomic circumstances, such as <code>household members</code> or access to <code>farming machinery</code>. Sounds splendid, right? Well, that is also what we thought at first glance.</p>
<p>However, as we started digging into the data, we quickly found that the surveys were far from being consistently conducted over the years. In some years, some questions were not asked; other questions would be changed in their potential answer options but still map to the same variable name. For this reason, we manually had to go through each of the four questionnaires, find the minimal set of overlapping questions, and ensure consistent mapping. In the end, we were left with about 50 intersecting (and relevant) features. We also had to drop many samples due to the non-availability of any location information (e.g., closest village name), which could then be mapped to a GPS coordinate. For example, the whole year 2017 showed a lack of such information. In the end, we were left with 430 samples for groundnut yield and 235 samples for soybean yield.</p>
<h4 id="b-soil--data">b) Soil  data</h4>
<p>Second, we retrieved soil quality data from the identified <a href="https://soilgrids.org/">soilgrid.org</a> data source. The data stemmed from a global soil data model with a spatial resolution of 250 meters. Such a model is beneficial in areas where there is only little measurement data or a lack of local models. The data could be accessed online via a WCS API. We leveraged Python to access and download the data for our area of interest. The data contained various soil properties such as <code>sand content</code>, <code>ph value</code>, or <code>nitrogen content</code> - all available for different depths. Since we tried to model the crop yield as objectively as possible, we included all properties at all depths. Finally, we joined the soil data with the survey data via their GPS coordinates.</p>
<h4 id="c-weather-data">c) Weather data</h4>
<p>Third, we accessed weather data in the form of the <a href="https://www.ecmwf.int/en/era5-land">ERA5 land</a> reanalysis. This reanalysis had a spatial resolution of approximately nine kilometers and an hourly temporal resolution. Again, we retrieved the data through a publicly accessible API, which we addressed via Python. We extracted features such as <code>precipitation</code> and <code>temperature</code> while aggregating them to monthly accuracy. In the end, we only kept the months during the growing season from October to March. Furthermore, we engineered more features such as <code>floods</code> (from an excessive amount of precipitation in a short timespan) or <code>heatwaves</code> (via extended periods of high temperatures). Again, we associated the weather data with the surveys via their GPS location.</p>
<h4 id="d-analysis">d) Analysis</h4>
<p>Lastly, we analyzed the dataset by applying several state-of-the-art machine learning algorithms to it. Therefore, used a 70-30 train-test split. Due to the small amount of samples, cross-validation for the hyperparameter optimization was not a viable solution. In the end, we tested XGBoost, CatBoost, Random Forest, Ridge Regression, and Elastic Net models with varying hyperparameters via a random search. The results were evaluated using the R2 score, RMSE, and correlation plots.</p>
<p>In addition, we also dug deeper into the year 2019 in form of a visual analysis since the former showed the most comprehensive set of survey questions. Here, we paid particular attention to analyzing the aspects discussed as valuable during our weekly meetings with GIZ and COMACO. This allowed us to derive insights about certain measures, such as the perceived impact of agricultural knowledge trainings.</p>
<h2 id="results">Results</h2>
<p>The results have proven rather unsatisfactory. Despite of the model we used, the results were only slightly became better than predicting the average (R2 score of 0.14 and 0.08 for groundnuts and soybeans, respectively). After several meetings with GIZ, we identified several potential reasons for this in the data collection process, i.e., the survey data:</p>
<ol>
<li>Data collection in the field is a challenging task. Especially for our target variable, the units of M and A were numerous, and the resulting values are more often rough estimates than precise measurements.</li>
<li>The GPS measurements are too inaccurate. We could only rely on GPS information of the closest village where the survey was conducted, but not of the farms themselves.</li>
<li>The information about the farmer&rsquo;s characteristics and practices retrieved from the surveys contained too few explanatory factors. This might be because the responses to many questions did not show any variation.</li>
</ol>
<p>Nevertheless, we learned that the soil and weather data leveraged during our modeling process had not been accessible by GIZ and COMACO before. Also, they affirmed that this data alone proves to be valuable since it allows them to combine it with expert knowledge to obtain insights. For this reason, in close cooperation with GIZ and COMACO, we shifted the project&rsquo;s focus and provided them with a POC allowing for easy access and inspection of the data. We implemented this in the form of an interactive Tableau dashboard, which you can check out <a href="https://public.tableau.com/profile/chris3097#!/vizhome/GIZ_16056548246950/Story1?publish=yes">here</a>.</p>
<h2 id="learnings">Learnings</h2>
<p>To conclude, the project was an exciting time during which I learned a lot about the messiness of data science. <strong>Machine Learning models are no silver bullet</strong> and can only get as good as the data you supply them with. Thus, in the beginning of each analytics project, <strong>you can never be certain about its outcome</strong>. However, do not hesitate to <strong>shift focus and  adapt iteratively</strong> if the project does not go as originally intended. Finally, I had a great time working together with my team and learning from them about:</p>
<ul>
<li>Programming
<ul>
<li>Python &amp; corresponding packages
<ul>
<li>Pandas, Geopandas, Owslib, Rasterio, Cartopy, Scikit-learn</li>
</ul>
</li>
<li>Git/GitLab workflow and collaboration</li>
</ul>
</li>
<li>Methodological
<ul>
<li>Geospatial analysis</li>
<li>Manual data cleansing in practice</li>
<li>Handling unexpected challenges</li>
<li>Agile project management
<ul>
<li>We worked in weekly Scrum cycles (collaborating via Trello)</li>
</ul>
</li>
<li>Presentation skills</li>
</ul>
</li>
</ul>
<h2 id="code-and-resources">Code and resources</h2>
<p>The code is available in this <a href="https://gitlab.com/analytics-club/hack4good/hack4good-fall-2020/giz">GitLab repository</a> (eventually not freely accessible yet). Again, you can download the final PDF report <a href="../pdfs/H4G_final_report.pdf">here</a>. Also, feel free to check out the final pitch slides <a href="../pdfs/H4G_final_pitch.pdf">here</a>.</p>

      </div>
    </article>

    <hr />

    <div class="post-info">
        <p>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon">
            <path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path>
            <line x1="7" y1="7" x2="7" y2="7"></line>
          </svg><span class="tag"><a href="/tags/machine-learning/">machine learning</a></span><span class="tag"><a href="/tags/supervised-learning/">supervised learning</a></span><span class="tag"><a href="/tags/geospatial-analysis/">geospatial analysis</a></span><span class="tag"><a href="/tags/data-cleansing/">data cleansing</a></span>
        </p>

      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text">
          <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
          <polyline points="14 2 14 8 20 8"></polyline>
          <line x1="16" y1="13" x2="8" y2="13"></line>
          <line x1="16" y1="17" x2="8" y2="17"></line>
          <polyline points="10 9 9 9 8 9"></polyline>
        </svg>
        1367 Words
      </p>

      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar">
          <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
          <line x1="16" y1="2" x2="16" y2="6"></line>
          <line x1="8" y1="2" x2="8" y2="6"></line>
          <line x1="3" y1="10" x2="21" y2="10"></line>
        </svg>
        2020-11-28 01:00
      </p>
    </div>

    
      <div class="pagination">
        <div class="pagination__title">
          <span class="pagination__title-h">Read other posts</span>
          <hr />
        </div>

        <div class="pagination__buttons">
          

          
            <span class="button next">
              <a href="/projects/fashionrecognition/">
                <span class="button__text">Fashion recognition</span>
                <span class="button__icon">→</span>
              </a>
            </span>
          
        </div>
      </div>
    


    

  </main>

            </div>

            
                <footer class="footer">
    <div class="footer__inner">
        <div class="footer__content">

            
            
            
        </div>
    </div>
    <div class="footer__inner">
        <div class="footer__content">
            <span>&copy; 2021</span>
            
            <span>Made with &#10084; by Chris Mony</span>
        </div>
    </div>
</footer>

            
        </div>

        




<script type="text/javascript" src="/bundle.min.dc716e9092c9820b77f96da294d0120aeeb189b5bcea9752309ebea27fd53bbe6b13cffb2aca8ecf32525647ceb7001f76091de4199ac5a3caa432c070247f5b.js" integrity="sha512-3HFukJLJggt3&#43;W2ilNASCu6xibW86pdSMJ6&#43;on/VO75rE8/7KsqOzzJSVkfOtwAfdgkd5BmaxaPKpDLAcCR/Ww=="></script>



    </body>
</html>
