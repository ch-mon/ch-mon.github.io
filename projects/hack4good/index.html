<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="">
<meta name="description" content="Watch Classification. Photo by Eliud Gil Samaniego.
  Background During my time at ETH Zurich, I had the chance to participate in the two month-long sustainability Hack4Good program. This hackathon was organized by the Analytics Club and the Student Project House at ETH. Five teams would be presented with challenges and data offered by different NGOs and try to solve the former within the given timeframe. Each of the projects had the focus on sustainability and was pro-bono." />
<meta name="keywords" content=", machine learning, supervised learning, geospatial analysis" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="" />
<link rel="canonical" href="/projects/hack4good/" />


    <title>
        
            Hack4Good Hackathon :: Chris Mony 
        
    </title>



<link href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.2.1/css/flag-icon.min.css" rel="stylesheet"
    type="text/css">



<link rel="stylesheet" href="/main.d1ea4af8fd04fb24a4f8b882ea54bd04eb245427ca4baf527c81a5dab071410b.css">






<meta itemprop="name" content="Hack4Good Hackathon">
<meta itemprop="description" content="Watch Classification. Photo by Eliud Gil Samaniego.
  Background During my time at ETH Zurich, I had the chance to participate in the two month-long sustainability Hack4Good program. This hackathon was organized by the Analytics Club and the Student Project House at ETH. Five teams would be presented with challenges and data offered by different NGOs and try to solve the former within the given timeframe. Each of the projects had the focus on sustainability and was pro-bono.">
<meta itemprop="datePublished" content="2020-11-28T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2020-11-28T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="1185">
<meta itemprop="image" content="/"/>



<meta itemprop="keywords" content="machine learning,supervised learning,geospatial analysis," />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="/"/>

<meta name="twitter:title" content="Hack4Good Hackathon"/>
<meta name="twitter:description" content="Watch Classification. Photo by Eliud Gil Samaniego.
  Background During my time at ETH Zurich, I had the chance to participate in the two month-long sustainability Hack4Good program. This hackathon was organized by the Analytics Club and the Student Project House at ETH. Five teams would be presented with challenges and data offered by different NGOs and try to solve the former within the given timeframe. Each of the projects had the focus on sustainability and was pro-bono."/>







    <meta property="article:published_time" content="2020-11-28 00:00:00 &#43;0000 UTC" />








    </head>

    <body class="dark-theme">
        <div class="container">
            <header class="header">
    <span class="header__inner">
        <a href="/" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark">></span>
            <span class="logo__text">chris.mony</span>
            <span class="logo__cursor" style=
                  "
                   
                   ">
            </span>
        
    </div>
</a>


        <span class="header__right">
            
                <nav class="menu">
    <ul class="menu__inner"><li><a href="/about/">About</a></li><li><a href="/blog/">Blog</a></li><li><a href="/personal/">Personal</a></li><li><a href="/projects/">Projects</a></li><li><a href="/reads/">Reads</a></li>
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
            

            <span class="theme-toggle unselectable"><svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
  3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
  13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"/>
</svg>
</span>
        </span>
    </span>
</header>


            <div class="content">
                
  <main class="post">

    <div class="post-info">
      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock">
          <circle cx="12" cy="12" r="10"></circle>
          <polyline points="12 6 12 12 16 14"></polyline>
        </svg>
        6 minutes

        
      </p>
    </div>

    <article>
      <h1 class="post-title">
        <a href="/projects/hack4good/">Hack4Good Hackathon</a>
      </h1>

      

      <div class="post-content">
        <figure class="center">
    <img src="../images/WatchClassification.jpg"
         alt="Watch Classification. Photo by Eliud Gil Samaniego." height="500"/> <figcaption>
            <p>Watch Classification. Photo by <a href="https://unsplash.com/@eliudartphotographer?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Eliud Gil Samaniego</a>.</p>
        </figcaption>
</figure>

<h2 id="background">Background</h2>
<p>During my time at ETH Zurich, I had the chance to participate in the two month-long sustainability Hack4Good program. This hackathon was organized by the Analytics Club and the Student Project House at ETH. Five teams would be presented with challenges and data offered by different NGOs and try to solve the former within the given timeframe. Each of the projects had the focus on sustainability and was pro-bono.</p>
<h2 id="project-description">Project description</h2>
<p>Our task was provided by the NGO &ldquo;Gesellschaft fuer Internatiaonale Zusammenarbeit&rdquo; (GIZ). Currently, they are active in the region of Eastern Zambia to support the people in the agricultural sector. Actually, 52% of the population in Eastern Zambia is employed in agriculture. Nevertheless, every third child has suffered from malnutrition. Thus, GIZ currently promotes the plantation of several value chain crops in Eastern Zambia, amongst which there are groundnuts and soybeans. Since the growth of these crops is strongly influenced by external factors such as precipitation or soil quality, they were interested which the most important factors are and how this relationship looks like. Out of this reson, we started with the goal of setting up a  model to predict crop yield varition in Eastern Zambia.</p>
<p>The pipeline can be vizualized in the following figure. First, we obtained survey data of the years 2016 until 2019 from GIZ. Each sample in this data originated from a survey conducted with one farm in Eastern Zambia. On average, there were about 500 surveys conducted each year. Hereby, the surveys were comprised of about 600 questions each of which would map to a variable. One the one hand, these variables included the harvested <code>weight</code> (in kg) and <code>production area</code> (in ha) for each crop, which then allowed to derive our target variable <code>land productivity</code>. On the other hand, the surveys contained questions addressing the socioeconomic circumstances of each farm such as <code>household members</code> or access to <code>farming machinery</code>. Sounds wonderful, right? Well, that is also what we thought at first. However, as soon as we started digging into the data, we quickly found that the surveys were not consistent over the years. In some years, some questions were not asked, other questions would be changed in their framing or answer options but still map to the same variable name. For this reason, we had to go through each of the questionaires of each year manually, find the minimal set of questions avaliable in all years and ensure consistent mapping. In the end, we were left with about 50 intersecting (and relevant) feautures. As if not enough, we also had to drop many samples due to non avaliablility of any location information (e.g. village name) which could then be mapped to a GPS coordinate. For example, the whole year 2017 showed a lack of such information. In the end, we were left with approximately 500 samples for groundnut yield and 300 samples for soybean yield. That is at least something;)</p>
<p>Second, we retrieved soil quality data from the before as suitable identified soilgrid.org data source. The data stemmed from a global model with a spatial resolution of 250 meters, and is especially helpful in areas where there is only little measurement data or a lack of local models. The data could be accessed online via a WCS API. We simply could leverage Python to access and download the data in our area of interest. The data showed various properties of soil such as <code>sand content</code>, <code>ph-value</code> or <code>nitrogen content</code>, all available for different depths. Since we tried to model the crop yield as objectively as possible, we included all variables at all depths. We mapped them to each GPS location of a survey by taking the average of the surrounding three kilometers. That way we added about 60 new features to our final dataset.</p>
<p>Third, we accessed weather data in form of the ERA5 land reanalysis. The reanalysis had a spatial resolution of approximately nine kilometers and an hourly temporal resolution. Again, the access was in form of a publicly accessibale API which we adressed via Python. We extracted features as precipitation and temperatures, while aggregating them to monthly accuracy. In the end, we only kept the months during the growing season from October to March. Furthermore, we engineered some feautres such as <code>floods</code> (from an excessive amount pf precipitation in a short timespan) or <code>heatwaves</code> (via extended periods of high temperatures.). We mapped the weather data to each GPS location by taking the average over the surrounding 10 kilometers. In total, we added 100 new features to our final dataset.</p>
<p>Lastely, we analyzed the dataset by applying several state-of-the-art machine learning algorithms to it. Therefore, used a 70-30 train-test split. Due to the small sample amount, cross-validation for hyperparameter selection was not a viable solution. In the end, we  tested XGBoost, CatBoost, Random Forest, Ridge Regression, and Elastic Net models with varying hyperparameters. The results were evaluated using the R2 score, RMSE, and correlation plots.</p>
<p>Also, even though not being in the direct focus of our project we also dug deeper into the most comprehesive survey year 2019. Here we payed special attention to aspects of interest which we obtained from our weekly meetings. This allowed us to derive insights such as the percieved impact of financial gifts to the farmers.</p>
<figure class="center">
    <img src="../images/FashionAdPipeline.jpg"
         alt="Schematic vizualization of the end-to-end pipeline."/> <figcaption>
            <p>Schematic vizualization of the end-to-end pipeline.</p>
        </figcaption>
</figure>

<h2 id="results">Results</h2>
<p>The results have shown to be rather unsatisfactory. Despite which model we used, our models only slightly became better than predicting the average. After several correspondents with the GIZ, we identified the potential reason for this in the data collection process, i.e. the survey conduction.</p>
<ul>
<li>First,</li>
<li>Second,</li>
</ul>
<p>Nevertheless, we also learned that the soil and weather data which we used during our modelling process, has not been used by GIZ before. Also, they found this data alone already to be valuable, since it allowed them to combine it with their expert knowledge to obtain insights into the general situtation. Out of this reason, we in close cooporation with GIZ we shifted the focus of the project and provided them a way in which they could easily access the data. In the end, we implemented this in form of a Tableau dashboard, which you can checkout <a href="">here</a>.</p>
<h2 id="learnings">Learnings</h2>
<p>To conclude, for me, the project was a exciting time during which I learned a lot about the messiness of data science. Machine Learningn models are no silver bullet and can only get as good as the data which you supply them with. Thus, in the beginning you can never be certain what the outcome of a project will be. However, do not hesitate to shift focus and iteratevely adapt if the projects does not go as originally intended. Nevertheless, I had a great time working together with my team and learning from them:</p>
<ul>
<li>Programming
<ul>
<li>Python &amp; corresponding packages
<ul>
<li>Pandas, Geopandas, Owslib, Rasterio, Cartopy, Scikit-learn</li>
</ul>
</li>
<li>Git/GitLab workflow and collaboration</li>
</ul>
</li>
<li>Methodological
<ul>
<li>Geospatial analysis</li>
<li>Manual data cleansing in practice</li>
<li>Dealing with unexpected challenges</li>
<li>Agile project management
<ul>
<li>We worked in Scrum cycles</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="code">Code</h2>
<p>Code is available in this <a href="">GitLab repository</a>. You can read the final report <a href="../pdfs/final_report.pdf">here</a></p>

      </div>
    </article>

    <hr />

    <div class="post-info">
        <p>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon">
            <path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path>
            <line x1="7" y1="7" x2="7" y2="7"></line>
          </svg><span class="tag"><a href="/tags/machine-learning/">machine learning</a></span><span class="tag"><a href="/tags/supervised-learning/">supervised learning</a></span><span class="tag"><a href="/tags/geospatial-analysis/">geospatial analysis</a></span>
        </p>

      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text">
          <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
          <polyline points="14 2 14 8 20 8"></polyline>
          <line x1="16" y1="13" x2="8" y2="13"></line>
          <line x1="16" y1="17" x2="8" y2="17"></line>
          <polyline points="10 9 9 9 8 9"></polyline>
        </svg>
        1185 Words
      </p>

      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar">
          <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
          <line x1="16" y1="2" x2="16" y2="6"></line>
          <line x1="8" y1="2" x2="8" y2="6"></line>
          <line x1="3" y1="10" x2="21" y2="10"></line>
        </svg>
        2020-11-28 01:00
      </p>
    </div>

    
      <div class="pagination">
        <div class="pagination__title">
          <span class="pagination__title-h">Read other posts</span>
          <hr />
        </div>

        <div class="pagination__buttons">
          

          
            <span class="button next">
              <a href="/projects/fashionrecognition/">
                <span class="button__text">Fashion recognition</span>
                <span class="button__icon">→</span>
              </a>
            </span>
          
        </div>
      </div>
    


    

  </main>

            </div>

            
                <footer class="footer">
    <div class="footer__inner">
        <div class="footer__content">

            
            
            
        </div>
    </div>
    <div class="footer__inner">
        <div class="footer__content">
            <span>&copy; 2021</span>
            
            <span>Made with &#10084; by Chris Mony</span>
        </div>
    </div>
</footer>

            
        </div>

        




<script type="text/javascript" src="/bundle.min.dc716e9092c9820b77f96da294d0120aeeb189b5bcea9752309ebea27fd53bbe6b13cffb2aca8ecf32525647ceb7001f76091de4199ac5a3caa432c070247f5b.js" integrity="sha512-3HFukJLJggt3&#43;W2ilNASCu6xibW86pdSMJ6&#43;on/VO75rE8/7KsqOzzJSVkfOtwAfdgkd5BmaxaPKpDLAcCR/Ww=="></script>



    </body>
</html>
